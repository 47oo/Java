### HTTP报文内的http信息
 HTTP通信过程包括从客户端发往服务器端的请求以及从服务器端返回客户端的响应.
 + HTTP报文
  > 用于HTTP协议交互的信息被称为HTTP报文.请求端的HTTP报文叫做请求报文,响应端的叫做响应报文.HTTP报文本身是由多行(用CR+LF做换行符)数据构成的字符串文本
  ![](/images/crlf.png)

+ 请求报文及响应报文的结构
  >  ![](/images/crlf2.png)
  ![](/images/crlf3.png)
    - 请求行
        >> 包含用于请求的方法,请求的URI和HTTP版本
    - 状态行
      >>包含表明响应结果的状态码,原因短语和HTTP版本
    - 首部字段
      >> 包含表示请求和响应的各种条件和属性的各类首部.一般有4种首部:通用首部,请求首部,响应首部,实体首部
    - 其他
      >> 可能包含HTTP的RFC里未定义的首部(Cookie等)

+ 编码提升传输速率
  - 报文主体和实体主体的差异
    - 报文
    > 是HTTP通信中的基本单位,由8位组字节流组成 ,通过http通信传输

    - 实体
    > 作为请求或响应的有效载荷数据(补充项)被传输,其内容由实体首部和实体主体组成

    HTTP报文的主体用于传输请求或响应的实体主体

  - 压缩传输的内容编码
    > ![](/images/crlf4.png)
    ![](/images/crlf5.png)

  - 分割发送的分块传输编码
    > 在HTTP通信过程中,请求的编码实体资源尚未全部传输完成之前,浏览器无法显示请求页面.在传输大容量数据时,通过把数据分割成多块,能够让浏览器逐步显示页面
    ![](/images/crlf6.png)
    ![](/images/crlf7.png)

  - 发送多种数据的多部分对象集合
    > HTTP协议中采纳了多部分对象集合,发送的一份报文主体内可含有多类型实体.通常是在图片或文本文件等上传时使用
    ![](/images/crlf8.png)
    ![](/images/crlf9.png)
    ![](/images/crlf10.png)
    ![](/images/crlf11.png)
    在HTTP报文中使用多部分对象集合时,需要在首部字段加上Content-type.
    ![](/images/crlf12.png)

  - 获取部分内容的范围请求
    > 为了解决下载过程中遇到网络中断的情况而重头下载,提供了一种恢复机制.所谓恢复是指能从之前下载中断处恢复下载
    ![](/images/crlf13.png)
    ![](/images/crlf14.png)
    ![](/images/crlf15.png)
    ![](/images/crlf16.png)
    真对范围请求,响应会返回状态码为206 Partial Content 的响应报文.另外,对于多重范围的范围请求,响应会在首部字段Content-Type表明multipart/byteranges后返回响应报文.如果服务器端无法响应范围请求,则会返回状态码200 OK和完整的实体内容
